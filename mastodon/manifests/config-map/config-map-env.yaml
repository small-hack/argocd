apiVersion: v1
kind: ConfigMap
metadata:
  labels:
    app.kubernetes.io/instance: mastodon-web-app
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: mastodon
    app.kubernetes.io/version: v4.0.2
    argocd.argoproj.io/instance: mastodon-web-app
    helm.sh/chart: mastodon-4.0.1
  name: mastodon-web-app-env
  namespace: mastodon
data:
  DB_HOST: mastodon-postgres-postgresql.mastodon.svc.cluster.local
  DB_NAME: mastodon
  DB_POOL: '25'
  DB_PORT: '5432'
  DB_USER: mastodon
  DEFAULT_LOCALE: en
  ES_ENABLED: 'true'
  ES_HOST: mastodon-web-app-elasticsearch-master-hl
  ES_PORT: '9200'
  LOCAL_DOMAIN: enby.city
  MALLOC_ARENA_MAX: '2'
  NODE_ENV: production
  PREPARED_STATEMENTS: 'true'
  RAILS_ENV: production
  REDIS_HOST: mastodon-web-app-redis-master
  REDIS_PORT: '6379'
  S3_BUCKET: vmt-mastodon-primary
  S3_ENABLED: 'true'
  S3_ENDPOINT: 'https://s3.eu-central-003.backblazeb2.com'
  S3_HOSTNAME: s3.eu-central-003.backblazeb2.com
  S3_PROTOCOL: https
  S3_REGION: eu-central-003
  SMTP_AUTH_METHOD: plain
  SMTP_CA_FILE: /etc/ssl/certs/ca-certificates.crt
  SMTP_DELIVERY_METHOD: smtp
  SMTP_DOMAIN: enby.city
  SMTP_ENABLE_STARTTLS: auto
  SMTP_FROM_ADDRESS: toots@enby.city
  SMTP_OPENSSL_VERIFY_MODE: peer
  SMTP_PORT: '587'
  SMTP_SERVER: mail.enby.city
  STREAMING_CLUSTER_NUM: '1'
