apiVersion: v1
kind: Secret
metadata:
  name: seaweedfs-s3-secret
  namespace: peertube
stringData:
  seaweedfs_s3_config: |
    {
      "identities": [
        {
          "name": "anvAdmin",
          "credentials": [
            {
              "accessKey": "peertube-root",
              "secretKey": "admin-key-goes-here"
            }
          ],
          "actions": [
            "Admin",
            "Read",
            "Write"
          ]
        },
        {
          "name": "peertube-postgres",
          "credentials": [
            {
              "accessKey": "peertube-postgres",
              "secretKey": "postgres-key-goes-here"
            }
          ],
          "actions": [
            "Read:peertube-postgres",
            "Write:peertube-postgres",
            "List:peertube-postgres"
          ]
        },
        {
          "name": "data",
          "credentials": [
            {
              "accessKey": "peertube-videos",
              "secretKey": "videos-key-goes-here"
            }
          ],
          "actions": [
            "Read:hls-video",
            "Write:hls-video",
            "List:hls-video",
            "Read:original-video-files",
            "Write:original-video-files",
            "List:original-video-files",
            "Read:web-videos",
            "Write:web-videos",
            "List:web-videos",
            "Read:user-exports",
            "Write:user-exports",
            "List:user-exports"
          ]
        }
      ]
    }
